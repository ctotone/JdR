<!-- --------------------------------- -->
<!-- ----- FEUILLE DE PERSONNAGE ----- -->
<!-- --------------------------------- -->

<div class="principale">
	<input type="hidden" class="page" name="attr_page"  value="1">
	
	<!-- Page de personnage -->
	<div class="personnage">
		<div class="page_config">
		<button type="action" class="page" name="act_page_config"><span class="picto" title="Page de configuration">y</span></button></div>
		<div class="wrapper_personnage">
			<div class="cat_logo"></div>
			<div class="cat_name">
				<span class="lettre">N</span>om :<input type="text" class="input_name" name="attr_character_name"> 
			</div>
			<div class="cat_caracteristiques">
				<div class="wrapper_caracteristiques">
					<div class="caracteristiques_border"></div>
					<div class="caracteristiques_type">
						FOR
					</div>
					<div class="caracteristiques_valeur">
						<input type="number" class="input_caracteristiques" name="attr_force" placeholder="0">
					</div>
					<div class="caracteristiques_roll">
						<button class="roll_dice" type="roll" name="roll_Lancer" value="/r 1d20" title="Jet de Sauvegarde"></button>
					</div>
					<div class="caracteristiques_zero">
						0 : mort
					</div>
					<div class="caracteristiques_data1">
						Combat
					</div>
					<div class="caracteristiques_data2">
						Vigueur
					</div>
					<div class="caracteristiques_data3">
						Résistance
					</div>
				</div>
				<div class="wrapper_caracteristiques">
					<div class="caracteristiques_border"></div>
					<div class="caracteristiques_type">
						DEX
					</div>
					<div class="caracteristiques_valeur">
						<input type="number" class="input_caracteristiques" name="attr_dexterite" placeholder="0">
					</div>
					<div class="caracteristiques_roll">
						<button class="roll_dice" type="roll" name="roll_Lancer" value="/r 1d20" title="Jet de Sauvegarde"></button>
					</div>
					<div class="caracteristiques_data1">
						Discrétion
					</div>
					<div class="caracteristiques_data2">
						Athlétisme
					</div>
					<div class="caracteristiques_data3">
						Réflexes
					</div>
					<div class="caracteristiques_zero">
						0 : paralysé
					</div>
				</div>
				<div class="wrapper_caracteristiques">
					<div class="caracteristiques_border"></div>
					<div class="caracteristiques_type">
						VOL
					</div>
					<div class="caracteristiques_valeur">
						<input type="number" class="input_caracteristiques" name="attr_volonte" placeholder="0">
					</div>
					<div class="caracteristiques_roll">
						<button class="roll_dice" type="roll" name="roll_Lancer" value="/r 1d20" title="Jet de Sauvegarde"></button>
					</div>
					<div class="caracteristiques_data1">
						Confiance
					</div>
					<div class="caracteristiques_data2">
						Discipline
					</div>
					<div class="caracteristiques_data3">
						Charisme
					</div>
					<div class="caracteristiques_zero">
						0 : brisé
					</div>
				</div>
			</div>
			<div class="cat_armure">
				<div class="wrapper_armure">
					<div class="armure_titre">ARMURE :</div>
					<div class="armure_data1">
						<input type="text" class="input_armure_nom" name="attr_armure_nom">
					</div>
					<div class="armure_data2">
						(<input type="number" class="input_armure_valeur" name="attr_armure_valeur" placeholder="0">)
					</div>
					<div class="armure_valeur_pv">
						<input type="number" class="input_hp" name="attr_HP_actuel" placeholder="0">/
						<input type="number" class="input_hp" name="attr_HP_base" placeholder="0">
					</div>
					<div class="armure_pv">PV</div>
				</div>
			</div>
			<div class="cat_notes">
				<span class="lettre">N</span>otes :
				<textarea class="notes" name="attr_note" spellcheck="false"></textarea>
			</div>
			<div class="cat_compagnies">
				<div class="wrapper_compagnies">
					<div class="titre">
						<span class="lettre">C</span>ompagnies
					</div>
					<div class="compagnies_force_titre">
						FOR
					</div>
					<div class="compagnies_dex_titre">
						DEX
					</div>
					<div class="compagnies_vol_titre">
						VOL
					</div>
					<div class="compagnies_armes_titre">
						ARMES (DÉGÂTS)
					</div>
				</div>
				<div class="wrapper_compagnies">
					<div class="compagnies_nom">
						<input type="text" class="input_compagnies_data" name="attr_compagnies_nom_1">
					</div>
					<div class="compagnies_force">
						<input type="number" class="input_compagnies_valeur" name="attr_compagnies_for_1">
					</div>
					<div class="compagnies_dex">
						<input type="number" class="input_compagnies_valeur" name="attr_compagnies_dex_1">
					</div>
					<div class="compagnies_vol">
						<input type="number" class="input_compagnies_valeur" name="attr_compagnies_vol_1">
					</div>
					<div class="compagnies_armes">
						<input type="text" class="input_compagnies_data" name="attr_compagnies_armes_1"> 
					</div>
				</div>
				<div class="wrapper_compagnies">
					<div class="compagnies_nom">
						<input type="text" class="input_compagnies_data" name="attr_compagnies_nom_2">
					</div>
					<div class="compagnies_force">
						<input type="number" class="input_compagnies_valeur" name="attr_compagnies_for_2">
					</div>
					<div class="compagnies_dex">
						<input type="number" class="input_compagnies_valeur" name="attr_compagnies_dex_2">
					</div>
					<div class="compagnies_vol">
						<input type="number" class="input_compagnies_valeur" name="attr_compagnies_vol_2">
					</div>
					<div class="compagnies_armes">
						<input type="text" class="input_compagnies_data" name="attr_compagnies_armes_2"> 
					</div>
				</div>
			</div>
			<div class="cat_entreprises">
				<div class="wrapper_entreprises">
					<div class="entreprises_titre">
						<span class="lettre">E</span>ntreprises
					</div>
					<div class="entreprises_revenus_titre_1">
						REVENUS
					</div>
					<div class="entreprises_revenus_titre_2">
						REVENUS
					</div>
					<div class="entreprises_nom_1">
						<input type="text" class="input_entreprises_data" name="attr_entreprises_nom_1">
					</div>
					<div class="entreprises_revenus_1">
						<input type="text" class="input_entreprises_valeur" name="attr_entreprises_revenus_1">
					</div>
					<div class="entreprises_nom_2">
						<input type="text" class="input_entreprises_data" name="attr_entreprises_nom_2">
					</div>
					<div class="entreprises_revenus_2">
						<input type="text" class="input_entreprises_valeur" name="attr_entreprises_revenus_2">
					</div>
				</div>
			</div>
			<div class="cat_experience">
				<div class="wrapper_xp">
					<div class="xp_titre1"><span class="lettre">N</span>iveau</div>
					<div class="xp_titre2">d'expérience :</div>
					<div class="xp_radio"><input type="radio" class="xp_radio" value="1" name="attr_xp" name="xp"><span></span></div>
					<div class="xp_radio_texte"><span class="lettre_verte">N</span>ovice</div>
					<div class="xp_radio"><input type="radio" class="xp_radio" value="2" name="attr_xp" name="xp"><span></span></div>
					<div class="xp_radio_texte"><span class="lettre_verte">P</span>rofessionnel</div>
					<div class="xp_radio"><input type="radio" class="xp_radio" value="3" name="attr_xp" name="xp"><span></span></div>
					<div class="xp_radio_texte"><span class="lettre_verte">E</span>xpert</div>
					<div class="xp_radio"><input type="radio" class="xp_radio" value="4" name="attr_xp" name="xp"><span></span></div>
					<div class="xp_radio_texte"><span class="lettre_verte">V</span>étéran</div>
					<div class="xp_radio"><input type="radio" class="xp_radio" value="5" name="attr_xp" name="xp"><span></span></div>
					<div class="xp_radio_texte"><span class="lettre_verte">M</span>aître</div>
					<div class="xp_radio"><input type="radio" class="xp_radio" value="6" name="attr_xp" name="xp"><span></span></div>
					<div class="xp_radio_texte"><span class="lettre_verte">A</span>u-delà</div>
				</div>
			</div>
			<div class="cat_equipements_gauche">
				<div class="wrapper_equipement">
					<div class="equipement_titre">
						<span class="lettre">É</span>quipements
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_1"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_2"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_3"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_4"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_5"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_6"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_7"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_8"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_9"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_10"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_11"> 
					</div>
				</div>
			</div>
			<div class="cat_equipements_droite">
				<div class="wrapper_equipement"style="margin-left: -5px;">
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_12"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_13"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_14"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_15"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_16"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_17"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_18"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_19"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_20"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_21"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_22"> 
					</div>
					<div class="equipement_trait">
						-
					</div>
					<div class="equipement_data">
						<input type="text" class="input_item" name="attr_equipement_23"> 
					</div>
				</div>
			</div>
			<div class="cat_objets_encombrants">
				<div class="wrapper_equipement" style="margin-top: -15px;">
					<div class="equipement_titre" style="margin-top:30px;font-size:20px;">
						<span class="lettre">O</span>bjets encombrants<span style="margin-left: 5px;color: var(--bleu_clair);font-size:14px;letter-spacing: 0px;">(à 2 mains)</span>
					</div>
					<div class="equipement_titre"></div>
					<div class="equipement_trait">
							-
						</div>
						<div class="equipement_data">
							<input type="text" class="input_item_encombrant" name="attr_equipement_lourd_1"> 
						</div>
						<div class="equipement_trait">
							-
						</div>
						<div class="equipement_data">
							<input type="text" class="input_item_encombrant" name="attr_equipement_lourd_2"> 
						</div>
						<div class="equipement_trait">
							-
						</div>
						<div class="equipement_data">
							<input type="text" class="input_item_encombrant" name="attr_equipement_lourd_3"> 
						</div>
				</div>
			</div>
			<div class="cat_roll">
				<div class="wrapper_roll">
					<div class="roll_titre">
						<span class="lettre">J</span>ets de dés
					</div>
				</div>
				<div class="wrapper_roll">
					<div class="roll_d4">
						<button class="roll_d4" type="roll" name="roll_Lancer" value="/r 1d4" title="Lancer D4 "></button>
					</div>
					<div class="roll_d6">
						<button class="roll_d6" type="roll" name="roll_Lancer" value="/r 1d6" title="Lancer D6"></button>
					</div>
					<div class="roll_d8">
						<button class="roll_d8" type="roll" name="roll_Lancer" value="/r 1d8" title="Lancer D8"></button>
					</div>
					<div class="roll_d10">
						<button class="roll_d10" type="roll" name="roll_Lancer" value="/r 1d10" title="Lancer D10"></button>
					</div>
					<div class="roll_d12">
						<button class="roll_d12" type="roll" name="roll_Lancer" value="/r 1d12" title="Lancer D12"></button>
					</div>
					<div class="roll_d20">
						<button class="roll_d20" type="roll" name="roll_Lancer" value="/r 1d20" title="Lancer D20"></button>
					</div>
					<div class="roll_chance">
						<button class="roll_chance" type="roll" name="roll_Lancer" value="/r 1d6" title="Jet de Chance"></button>
					</div>
				</div>
				<div class="wrapper_roll">
					<div class="roll_d4">
						<span class="lettre">D</span>4
					</div>
					<div class="roll_d6">
						<span class="lettre">D</span>6
					</div>
					<div class="roll_d8">
						<span class="lettre">D</span>8
					</div>
					<div class="roll_d10">
						<span class="lettre">D</span>10
					</div>
					<div class="roll_d12">
						<span class="lettre">D</span>12
					</div>
					<div class="roll_d20">
						<span class="lettre">D</span>20
					</div>
					<div class="roll_chance">
						<span class="lettre">C</span>hance
					</div>
				
				</div>
			</div>
		</div>
	</div>
	<!-- Page de configuration -->
	<div class="outils">
		<button type="action" class="page" name="act_page_personnage"><span class="picto" title="Page de personnage">U</span></button>
	</div>
</div>



<!-- ------------------------- -->
<!-- ----- ROLL TEMPLATE ----- -->
<!-- ------------------------- -->


<!-- --------------------------- -->
<!-- --------- SCRIPT ---------- -->
<!-- --------------------------- -->

<!-- Changement de page -->
<script type="text/worker">
   on('clicked:page_config', function() {

	setAttrs({
			"page": 2
			});
});
</script>

<script type="text/worker">
   on('clicked:page_personnage', function() {

	setAttrs({
			"page": 1
			});
});
</script>

<!-- Ajustement HP -->
<script type="text/worker">
on("change:HP_base change:HP_actuel", function() {
console.log("Ajustement HP");

    getAttrs(["HP_base", "HP_actuel"], function(values) {
         let base = parseInt(values["HP_base"]) || 0;
		 let actuel = parseInt(values["HP_actuel"]) || 0;
		 
			if (base <= actuel) HP_ajuste = base;
			else HP_ajuste = actuel;
			
			setAttrs({
			"HP_actuel" : HP_ajuste
        });
    });
});
</script>

<!-- Attribution Item -->
<script type="text/worker">
on("clicked:obtenir_objets", function() {
console.log("Obtenir Objets");

    getAttrs(["HP_base", "force", "dexterite", "volonte"], function(values) {
         let HP_base = parseInt(values["HP_base"]) || 0;
		 let force = parseInt(values["force"]) || 0;
		 let dexterite = parseInt(values["dexterite"]) || 0;
		 let volonte = parseInt(values["volonte"]) || 0;
		 let total_stat = force + dexterite + volonte;
		 
			if (total_stat <= '9' && HP_base == '1') 	equipement_1 = '',
														equipement_2 = '',
														equipement_3 = '',
														equipement_4 = '',
														equipement_5 = '',
														equipement_6 = '',
														equipement_7 = '',
														equipement_lourd_1 = '',
														equipement_lourd_2 = '';
			else equipement_1 = '1',
				 equipement_2 = '2',
				 equipement_3 = '3',
				 equipement_4 = '4',
				 equipement_5 = '5',
				 equipement_6 = '6',
				 equipement_7 = '7',
				 equipement_lourd_1 = '',
				 equipement_lourd_2 = '';
			
			setAttrs({
				"equipement_1" = item_1,
				"equipement_2" = item_2,
				"equipement_3" = item_3,
				"equipement_4" = item_4,
				"equipement_5" = item_5,
				"equipement_6" = item_6,
				"equipement_7" = item_7,
				"equipement_lourd_1" = equipement_lourd_1,
				"equipement_lourd_2" = equipement_lourd_2;
        });
    });
});
</script>