<!-- Set up the Tabs -->
  
<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab"  value="1"  />

    <button type="action" class="tab_menu1" name="act_1" >Cartes</button><span data-i18n="TAB_card" class="tab1" style="line-height: 40px;">Card</span>
    <button type="action" class="tab_menu2" name="act_2" >Concept</button><span data-i18n="TAB_concept" class="tab2" style="line-height: 40px;">Concept</span>
    <button type="action" class="tab_menu3" name="act_3" >RÃ¨gles</button><span data-i18n="TAB_rule" class="tab3" style="line-height: 40px;">Rules</span>
	<button type="action" class="tab_menu4" name="act_4" >GM</button><span data-i18n="TAB_GM" class="tab4" style="line-height: 40px;">GM</span>
	<button type="roll" name="roll_d20" data-i18n-title="conflict_dice" title="Conflict Dice" value="&{template:tencandles} {{title=Conflict}}{{Success=[[?{How many dice?|1}d6=6]]}}" class="d6"></button>


<script type="text/worker">
    const buttonlist = ["1","2","3","4"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });
</script>

<!-- End Tab setup -->  





    <!-- Carte Tab -->
	<div class="sheet-1">
		<div class="section-profile">	
		<img class="logo" src="https://raw.githubusercontent.com/ctotone/JdR/main/Ten%20candles/img/logo_official_dark.png"/>
			<div class="profile-text">
					<p></p>
					<input type="hidden" class="vertu_check" name="attr_vertu_check" value='0'>
					<p><input type="checkbox" name="attr_vertu_check" data-i18n-title="burn" title="Check when the card is burned"><span class="receiver-vertu_check" data-i18n="virtue">Virtue : </span><input class="virtue" type="text" name="attr_vertu"></p>
					<input type="hidden" class="vice_check" name="attr_vice_check" value='0'>
					<p><input type="checkbox" name="attr_vice_check" data-i18n-title="burn" title="Check when the card is burned"><span class="receiver-vice_check" data-i18n="vice">Vice : </span><input class="vice" type="text" name="attr_vice"></p>
					<input type="hidden" class="moment_check" name="attr_moment_check" value='0'>
					<p><input type="checkbox" name="attr_moment_check" data-i18n-title="burn" title="Check when the card is burned"><span class="receiver-moment_check" data-i18n="moment">Moment : "I will find hope..."</span></p>
					<p><button type="roll" name="roll_d12" data-i18n-title="hope_dice" title="Hope Dice" value="&{template:tencandles} {{title=Hope Dice}} {{subtitle=}}{{Success=[[1d6=6]]}}" class="dicehope"></button><input class="card1" type="text" name="attr_moment"></textarea></p>
					<input type="hidden" class="extremite_check" name="attr_extremite_check" value='0'>
					<p><input type="checkbox" name="attr_extremite_check" data-i18n-title="burn" title="Check when the card is burned"><span class="receiver-extremite_check" data-i18n="brink">Brink : "Someone seen you..."</span></p>
					<p><input class="card2" type="text" name="attr_extremite"></textarea></p>
			</div>
		</div>
	</div>

	<!-- Personnage Tab -->
	<div class="sheet-2">
		<div class="section-abilities">	
		<img class="logo" src="https://raw.githubusercontent.com/ctotone/JdR/main/Ten%20candles/img/logo_official_dark.png"/>
			<div class="profile-text">
				<p></p>
				<p><span data-i18n="name">Name : </span><input class="name" type="text" name="attr_character_name"></p>
				<p><span data-i18n="look">Look : </span><input class="look" type="text" name="attr_apparence"></p>
				<p><span data-i18n="age">Age : </span><input class="age" type="text" name="attr_age"></p>
				<p></p>
				<p><span data-i18n="background">Background</span></p>
				<p><textarea class="notes" name="attr_bg"></textarea></p>
			</div>
		</div>
	</div>

	<!-- Rules Tab -->
	<div class="sheet-3">
		<div class="section-regle">	
		<img class="logo" src="https://raw.githubusercontent.com/ctotone/JdR/main/Ten%20candles/img/logo_official_dark.png"/>
			<div class="profile-text">
			<p><span data-i18n="vice_virtue">Vice and Virtue : Once the card is burned, allows you to reroll all 1s.</span></p>
			<p></p>
			<p><span data-i18n="moment_rule">Moment : Burn this card and resolve a conflict roll. If successful, gain your hope dice.</span></p>
			<p></p>
			<p><span data-i18n="brink_rule">Brink : Reroll all the dice. Keep the card in case of success, but on a failure, burn the card and lose your Hope dice.</span></p>
			</div>
		</div>
	</div>

	<!-- GM Tab -->
	<div class="sheet-4">
		<div class="section-GM">	
			<div class="profile-text">
				<!-- <input type="checkbox" name="attr_hide2" class="dispchk2" data-i18n-title="show-hide-content" title="Afficher/masquer le contenu" ><span class="dispchk2"></span><span class="title" data-i18n="rules_title"> Regles</span>
					<div class="dispchk2">
							<p><span data-i18n="rules_1">Regle 1</span></p>
							<p><span data-i18n="rules_2">Regle 2</span></p>
							<p><span data-i18n="rules_3">Regle 3</span></p>
					</div>
							<br> -->
				<input type="checkbox" name="attr_hide1" class="dispchk" data-i18n-title="show-hide-content" title="Afficher/masquer le contenu"><span class="dispchk"></span><span class="title" data-i18n="characters_title"> Personnages</span>
					<div class="dispchk">
						
								<div class="border-character-up">
								</div>
								<div class="border-character">
									<br>
									<p><span data-i18n="player_name">Character's name</span><input class="card" type="text" name="attr_player1_name"></p>
									<p><input type="checkbox" name="attr_moment_player1_check"><span data-i18n="moment_gm">Moment : </span><input class="card" type="text" name="attr_player1_moment">
									<input type="checkbox" name="attr_extremite_player1_check"><span data-i18n="brink_gm">Brink : </span><input class="card" type="text" name="attr_player1_extremite"></p>
								</div>
								<div class="border-character">
									<br>
									<p><span data-i18n="player_name">Character's name</span><input class="card" type="text" name="attr_player2_name"></p>
									<p><input type="checkbox" name="attr_moment_player2_check"><span data-i18n="moment_gm">Moment : </span><input class="card" type="text" name="attr_player2_moment">
									<input type="checkbox" name="attr_extremite_player2_check"><span data-i18n="brink_gm">Brink : </span><input class="card" type="text" name="attr_player2_extremite"></p>
								</div>
								<div class="border-character">
									<br>
									<p><span data-i18n="player_name">Character's name</span><input class="card" type="text" name="attr_player3_name"></p>
									<p><input type="checkbox" name="attr_moment_player3_check"><span data-i18n="moment_gm">Moment : </span><input class="card" type="text" name="attr_player3_moment">
									<input type="checkbox" name="attr_extremite_player3_check"><span data-i18n="brink_gm">Brink : </span><input class="card" type="text" name="attr_player3_extremite"></p>
								</div>
							<fieldset class="repeating_player">
								<div class="border-character">
									<br>
									<p><span data-i18n="player_name">Character's name</span><input class="card" type="text" name="attr_name_rep"></p>
									<p><input type="checkbox" name="attr_moment_check_rep"><span data-i18n="moment_gm">Moment : </span><input class="card" type="text" name="attr_moment_rep">
									<input type="checkbox" name="attr_extremite_check_rep"><span data-i18n="brink_gm">Brink : </span><input class="card" type="text" name="attr_extremite_rep"></p>
								</div>
							</fieldset>
						
					</div>	
			</div>

		</div>
	</div>

<!-- ROLL TEMPLATES -->
<rolltemplate class="sheet-rolltemplate-tencandles">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>
    <div class="sheet-content">
      {{#allprops() title subtitle desc}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle desc}}
      {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
    </div>
  </div>
</rolltemplate>

<!-- SCRIPT -->
<script type="text/worker">
    const buttonlist = ["1","2","3","4"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });
</script>
